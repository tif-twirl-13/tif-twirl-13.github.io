<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Title -->
    <title>Whole-Body End-Effector Pose Tracking</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Whole-body end-effector pose tracking">
    <meta name="keywords" content="Whole-body control, Reinforcement Learning">

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- https://fontawesome.com/cheatsheet -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css">

    <style>
        .header-container {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            font-size: 20px;
            padding-top: 0px;
        }
        .header-text {
            text-align: center;
        }
    </style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9MLNCESWHS"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-9MLNCESWHS');
    </script>

</head>


<body>
    <!-- <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"> -->
    <nav class="navbar navbar-expand-md fixed-top navbar-dark" style="background-color: #A31F34;">
        <a class="navbar-brand" href="#"></a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggle">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarToggle">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#Abstract">Abstract</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#Overview">Overview</a>
                </li>
            </ul>
        </div>
    </nav>
    <br>
    <div class="container" style="padding-top: 80px; font-size: 20px">
        
        <div align="center">
            <h2 class="text-center" align="center">
              Whole-Body End-Effector Pose Tracking
            </h2>
            <br>
            <h6>
                <a href="https://ch.linkedin.com/in/tifanny-pereira-portela-97868521a?original_referer=https%3A%2F%2Fwww.google.com%2F">Tifanny Portela</a>&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://scholar.google.com/citations?user=QZKCzOQAAAAJ&hl=en" target="_blank">Andrei Cramariuc</a>&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://mayankm96.github.io" target="_blank">Mayank Mittal</a>&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://scholar.google.ch/citations?user=DO3quJYAAAAJ&hl=en" target="_blank">Marco Hutter</a><br>
            </h6>
            <!-- <br> -->
            <p style="margin:10px;"></p>
            <h6 style="color: black;">International Conference on Robotics and Automation (ICRA) 2025 </h6>
            <br>
            <div class="logo-container">
                <div>
                <object hspace="50">
                    <a href="https://ai.ethz.ch" target="_blank">
                        <img src="wholebody-pose-control/logo eth ai center.png" alt="eth ai center" width="140">
                    </a>
                </object>
                <object hspace="50">
                    <a href="https://rsl.ethz.ch" target="_blank">
                        <img src="wholebody-pose-control/logo rsl.png" alt="rsl" width="140">
                    </a>
                </object>
                <object hspace="50">
                  <a href="https://www.nvidia.com/en-us/" target="_blank">
                      <img src="wholebody-pose-control/nvidia-logo.png" alt="nvidia" width="140">
                  </a>
                </object>
                <object hspace="50">
                  <a href="https://ethz.ch/de.html" target="_blank">
                      <img src="wholebody-pose-control/logo eth.png" alt="eth" width="140">
                  </a>
                </object>
                </div>
            </div>
        </div>
        
    </div><br>

    <center>
      <button class="btn btn-blue" onmouseover="this.style.backgroundColor='#0080ff'" onmouseout="this.style.backgroundColor='#0066cc'" style="display: inline-block; padding: 8px 16px 8px 42px; font-size: 16px; color: white; background-color: #0066cc; background-image: url(learning-compliance/icon-paper.png); background-repeat: no-repeat; background-position: left center; border: none; border-radius: 4px;" onclick="window.location.href='https://arxiv.org/pdf/2409.16048';">Paper</button>
    </center><br>

    <!-- Abstract -->
    <div class="container">
        <h4 id="Abstract" style="padding-top: 70px; margin-top: -80px; ">Abstract</h4>
        <hr>
        <div style="text-align: justify">
          Combining manipulation with the mobility of legged robots is essential for a wide range of robotic applications. However, integrating an arm with a mobile base significantly increases the system's complexity, making precise end-effector control challenging. Existing model-based approaches are often constrained by their modeling assumptions, leading to limited robustness. Meanwhile, recent Reinforcement Learning (RL) implementations restrict the arm's workspace to be in front of the robot or track only the position to obtain decent tracking accuracy. In this work, we address these limitations by introducing a whole-body RL formulation for <b>end-effector pose tracking</b> in a large workspace on <b>rough terrains</b>. Our proposed method involves a terrain-aware sampling strategy for the robot's initial configuration and end-effector pose commands, as well as a game-based curriculum to extend the robot's operating range. We validate our approach on the ANYmal quadrupedal robot with a six DoF robotic arm. Through our experiments, we show that the learned controller achieves <b>precise</b> command tracking over a <b>large workspace</b> and adapts across varying terrains such as stairs and slopes. On deployment, it achieves a pose-tracking error of  <b>2.64 cm</b> and <b>3.64 degrees</b>, outperforming existing competitive baselines.
    </div><br><br>

     <!-- Overview -->
    <div class="container">
        <h4 id="Overview" style="padding-top: 70px; margin-top: -80px;">Overview</h4>
        <hr>
        <br>
        <div align="center", style="font-size: 17px">
            <!-- <h5 id="sys-arch" style="padding-top: 30px; margin-top: -40px;"> -->
              We train an RL controller to track end-effector <b>pose commands</b> in simulation and transfer to a mobile legged manipulator.
            <!-- </h5> -->
            <br>
            <br>
            <div class="center" style="display: flex; justify-content: center; gap: 5px;">
              <div>
                <div class="center">
                    <video
                      width="100%"
                      style="max-width: 640px;"
                      controls="true"
                      autoplay
                      muted
                      loop
                      onplaying="this.controls=false"
                      id="video"
                    >
                      <source src="wholebody-pose-control/tracking flat.mp4" type="video/mp4" />
                    </video>
                  </div>
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                      const video = document.getElementById('video');
                      const observer = new IntersectionObserver(
                        (entries) => {
                          entries.forEach((entry) => {
                            if (entry.isIntersecting) {
                              video.play();
                            } else {
                              video.pause();
                            }
                          });
                        },
                        {
                          threshold: 0.5, // 50% of the video must be visible for it to play
                        }
                      );
                      observer.observe(video);
                    });
                  </script>
                <p style="text-align: center; margin-top: 5px;">End-effector pose tracking evaluation, using a motion capture system, on flat terrain across 20 randomly sampled poses</p>
              </div>
            </div>
    </div>
    <hr>
    <br>
    <div align="center", style="font-size: 17px">
        <!-- <h5 id="sys-arch" style="padding-top: 30px; margin-top: -40px;"> -->
        We evaluate the tracking performance of our whole-body RL controller on stairs. 
        The average position error reaches <b>2.64 cm</b>, and the average orientation error <b>3.64 degrees</b>.
        <!-- </h5> -->
        <br>
        <br>
        <div class="center" style="display: flex; justify-content: center; gap: 5px;">
          <div>
            <div class="center">
                <video
                  width="100%"
                  style="max-width: 640px;"
                  controls="true"
                  autoplay
                  muted
                  loop
                  onplaying="this.controls=false"
                  id="video"
                >
                  <source src="wholebody-pose-control/tracking stairs.mp4" type="video/mp4" />
                </video>
              </div>
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                  const video = document.getElementById('video');
                  const observer = new IntersectionObserver(
                    (entries) => {
                      entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                          video.play();
                        } else {
                          video.pause();
                        }
                      });
                    },
                    {
                      threshold: 0.5, // 50% of the video must be visible for it to play
                    }
                  );
                  observer.observe(video);
                });
              </script>
            <p style="text-align: center; margin-top: 5px;">End-effector pose tracking evaluation, using a motion capture system, on stairs across 20 randomly sampled poses</p>
          </div>
        </div>
    </div>


    <hr>
    <br>
    <div align="center", style="font-size: 17px">
        <!-- <h5 id="sys-arch" style="padding-top: 30px; margin-top: -40px;"> -->
        The system can handle unmodeled added weight on the end-effector, allowing for the attachment of various end-effectors and dynamic carrying of unknown payloads during operation.
        <!-- </h5> -->
        <br>
        <br>
        <div class="center" style="display: flex; justify-content: center; gap: 5px;">
          <div>
            <div class="center">
                <video
                  width="100%"
                  style="max-width: 640px;"
                  controls="true"
                  autoplay
                  muted
                  loop
                  onplaying="this.controls=false"
                  id="video"
                >
                  <source src="wholebody-pose-control/static load.mp4" type="video/mp4" />
                </video>
              </div>
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                  const video = document.getElementById('video');
                  const observer = new IntersectionObserver(
                    (entries) => {
                      entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                          video.play();
                        } else {
                          video.pause();
                        }
                      });
                    },
                    {
                      threshold: 0.5, // 50% of the video must be visible for it to play
                    }
                  );
                  observer.observe(video);
                });
              </script>
            <p style="text-align: center; margin-top: 5px;"> Up to 3.75 kg when stationary</p>
          </div>
          <div>
            <div class="center">
                <video
                  width="100%"
                  style="max-width: 640px;"
                  controls="true"
                  autoplay
                  muted
                  loop
                  onplaying="this.controls=false"
                  id="video"
                >
                  <source src="wholebody-pose-control/dynamic load.mp4" type="video/mp4" />
                </video>
              </div>
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                  const video = document.getElementById('video');
                  const observer = new IntersectionObserver(
                    (entries) => {
                      entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                          video.play();
                        } else {
                          video.pause();
                        }
                      });
                    },
                    {
                      threshold: 0.5, // 50% of the video must be visible for it to play
                    }
                  );
                  observer.observe(video);
                });
              </script>
            <p style="text-align: center; margin-top: 5px;">Up to 1.3 kg when in movement</p>
          </div>
          <!-- <div>
            <img src="rsc/roughness_sensing_gait.gif" style="width: 70%;" alt="Roughness Sensing Gait" />
            <p style="text-align: center; margin-top: 5px;"><b>Roughness sensing gait</b></p>
          </div> -->
        </div>
    </div>

  <br><br>

    <hr>
    <br>
    <div align="center", style="font-size: 17px">
        <!-- <h5 id="sys-arch" style="padding-top: 30px; margin-top: -40px;"> -->
        We compare the tracking performance of our learned whole-body RL controller to a model-based MPC baseline on flat terrain.
        While both perform similarly in median accuracy, the RL policy achieves significantly lower mean errors by <b>avoiding self-collisions</b> and <b>local minimas</b> during transitions between distant poses.
        <!-- </h5> -->
        <br>
        <br>
        <div class="center" style="display: flex; justify-content: center; gap: 5px;">
          <div>
            <div class="center">
                <video
                  width="100%"
                  style="max-width: 640px;"
                  controls="true"
                  autoplay
                  muted
                  loop
                  onplaying="this.controls=false"
                  id="video"
                >
                  <source src="wholebody-pose-control/mpc.mp4" type="video/mp4" />
                </video>
              </div>
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                  const video = document.getElementById('video');
                  const observer = new IntersectionObserver(
                    (entries) => {
                      entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                          video.play();
                        } else {
                          video.pause();
                        }
                      });
                    },
                    {
                      threshold: 0.5, // 50% of the video must be visible for it to play
                    }
                  );
                  observer.observe(video);
                });
              </script>
          </div>
        </div>
    </div>

    <p style="font-size: 14px; max-width: 900px; margin: auto; padding-top: 5px;">
      If you use our work, please cite us:
      </p>
      <pre style="white-space: pre-wrap; word-wrap: break-word; background-color: #f5f5f5; padding: 10px; border-radius: 5px; font-size: 13px; max-width: 900px; margin: auto;">
        @article{portela2024whole,
          title={Whole-body end-effector pose tracking},
          author={Portela, Tifanny and Cramariuc, Andrei and Mittal, Mayank and Hutter, Marco},
          journal={arXiv preprint arXiv:2409.16048},
          year={2024}
        }
      </pre>

  <br><br>

    <center>
    <p>Website made using <a href="https://taochenshh.github.io/projects/visual-dexterity">this template</a>.</p>
    </center>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

</body>

</html>